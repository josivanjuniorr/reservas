<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Reservas Hotel Padre CÃ­cero</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="wrap">
<header>
  <div class="brand">
    <div class="logo">PC</div>
    <div>
      <h1>Hotel Padre CÃ­cero</h1>
      <p class="lead">Sistema de GestÃ£o de Reservas</p>
    </div>
  </div>
  <div class="muted">âœ¨ VersÃ£o 2.0</div>
</header>

<main class="grid">
<!-- ESQUERDA -->
<section class="card">
<h2>Nova Reserva</h2>
<form id="reservationForm">
  <div class="row">
    <div style="flex:1">
      <label>ğŸ‘¤ Nome do HÃ³spede</label>
      <input id="guestName" required placeholder="Digite o nome completo">
    </div>
    <div style="width:150px">
      <label>ğŸ“ Telefone</label>
      <input id="phone" placeholder="(00) 00000-0000">
    </div>
  </div>
  <div class="row">
    <div style="flex:1">
      <label>ğŸ¨ Tipo de Quarto</label>
      <select id="roomType"></select>
    </div>
    <div style="width:120px">
      <label>ğŸ”¢ Qtd</label>
      <select><option>1 apto</option></select>
    </div>
  </div>
  <div class="row">
    <div style="flex:1">
      <label>ğŸ“… Data de Entrada</label>
      <input type="date" id="startDate" required>
    </div>
    <div style="flex:1">
      <label>ğŸ“… Data de SaÃ­da</label>
      <input type="date" id="endDate" required>
    </div>
  </div>
  <div class="row">
    <div style="flex:1">
      <label>ğŸ‘” ResponsÃ¡vel</label>
      <input id="responsible" placeholder="Nome do responsÃ¡vel">
    </div>
    <div style="width:150px">
      <label>ğŸ’° Valor (R$)</label>
      <input type="number" id="price" step="0.01" min="0" placeholder="0,00">
    </div>
  </div>
  <div class="row">
    <div style="flex:1">
      <label>ğŸ“ ObservaÃ§Ãµes</label>
      <textarea id="notes" placeholder="InformaÃ§Ãµes adicionais sobre a reserva..."></textarea>
    </div>
  </div>
  <div style="display:flex;gap:12px;margin-top:16px">
    <button class="btn" type="submit">âœ… Confirmar Reserva</button>
    <button class="btn ghost" type="button" id="clearForm">ğŸ”„ Limpar</button>
  </div>
  <div id="formMsg"></div>

  <hr style="margin:24px 0;border:0;border-top:2px solid var(--border);opacity:0.5">
  <h3 style="color:var(--accent);margin-bottom:12px;font-size:18px">ğŸ“Š Consultar Disponibilidade</h3>
  <p style="color:var(--muted);margin-bottom:12px;font-size:14px">Veja quantos apartamentos estarÃ£o disponÃ­veis em uma data futura:</p>
  <input type="date" id="queryDate" style="padding:12px 16px;width:100%;max-width:250px;border:2px solid var(--border);border-radius:10px">
  <div id="futureSummary" class="availability-container"></div>
</form>
</section>

<!-- DIREITA -->
<section class="card">
<h2>ğŸ“‹ Gerenciar Reservas</h2>
<div class="tab-buttons">
  <button id="tabCurrent" class="active">ğŸ“… Atuais e Futuras</button>
  <button id="tabHistory">ğŸ• HistÃ³rico</button>
</div>
<div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:16px">
  <div class="search-box" style="flex:1;min-width:200px">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
    <input type="text" id="searchInput" placeholder="Buscar por nome do hÃ³spede...">
  </div>
  <select id="filterType" style="padding:12px 16px;border:2px solid var(--border);border-radius:10px;font-size:14px"><option value="all">ğŸ¨ Todos os tipos</option></select>
</div>
<div id="reservationsList" style="margin-top:12px;"></div>
<div id="historyList" style="margin-top:12px;"></div>
</section>
</main>
</div>

<!-- Modal de ediÃ§Ã£o -->
<div id="editModal">
  <div class="card">
    <h2>âœï¸ Editar Reserva</h2>
    <form id="editForm">
      <div style="margin-bottom:12px">
        <label>ğŸ‘¤ Nome do HÃ³spede</label>
        <input type="text" id="editName" required>
      </div>
      <div style="margin-bottom:12px">
        <label>ğŸ“ Telefone</label>
        <input type="text" id="editPhone">
      </div>
      <div style="margin-bottom:12px">
        <label>ğŸ¨ Tipo de Quarto</label>
        <select id="editRoomType"></select>
      </div>
      <div style="display:flex;gap:12px;margin-bottom:12px">
        <div style="flex:1">
          <label>ğŸ“… Entrada</label>
          <input type="date" id="editStartDate" required>
        </div>
        <div style="flex:1">
          <label>ğŸ“… SaÃ­da</label>
          <input type="date" id="editEndDate" required>
        </div>
      </div>
      <div style="margin-bottom:12px">
        <label>ğŸ‘” ResponsÃ¡vel</label>
        <input type="text" id="editResponsible">
      </div>
      <div style="margin-bottom:12px">
        <label>ğŸ’° Valor (R$)</label>
        <input type="number" id="editPrice" step="0.01" min="0">
      </div>
      <div style="margin-bottom:12px">
        <label>ğŸ“ ObservaÃ§Ãµes</label>
        <textarea id="editNotes"></textarea>
      </div>
      <div style="margin-bottom:16px;display:flex;align-items:center;gap:10px">
        <input type="checkbox" id="editOnClipboard" style="width:auto;margin:0">
        <label style="margin:0">ğŸ“‹ Marcar na prancheta</label>
      </div>
      <div style="display:flex;gap:12px">
        <button class="btn" type="submit">ğŸ’¾ Salvar AlteraÃ§Ãµes</button>
        <button type="button" class="btn ghost" onclick="closeEditModal()">âŒ Cancelar</button>
      </div>
    </form>
  </div>
</div>

<!-- Load config FIRST (synchronously) so SUPABASE_CONFIG is available before other scripts -->
<script src="config.js"></script>
<script src="config.example.js"></script> <!-- Fallback for GitHub Pages -->

<!-- Supabase JS (UMD) -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>
<script src="supabase-integration.js"></script>
<script src="app.js"></script>
</body>
</html>
